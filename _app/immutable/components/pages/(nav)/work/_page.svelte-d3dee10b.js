import{S as P,i as A,s as b,k as p,q,a as C,l as v,m as k,r as E,h as _,c as F,n as I,b as N,F as d,u as S,f as h,d as W,t as g,ad as z,x as B,y as D,z as H,A as L,g as V}from"../../../../chunks/index-e033f26d.js";import{A as j,P as x,N as G}from"../../../../chunks/db-e113e4cb.js";import{W as J}from"../../../../chunks/WorkoutCard-5e7343ab.js";function $(c,t,s){const e=c.slice();return e[1]=t[s],e[3]=s,e}function w(c){let t,s;return t=new J({props:{workout:c[1],href:"/active?program="+c[0].id+"&workout="+c[1].id}}),{c(){B(t.$$.fragment)},l(e){D(t.$$.fragment,e)},m(e,l){H(t,e,l),s=!0},p(e,l){const i={};l&1&&(i.workout=e[1]),l&1&&(i.href="/active?program="+e[0].id+"&workout="+e[1].id),t.$set(i)},i(e){s||(h(t.$$.fragment,e),s=!0)},o(e){g(t.$$.fragment,e),s=!1},d(e){L(t,e)}}}function K(c){let t,s,e=c[0].name+"",l,i,m,u=c[0].workouts,o=[];for(let a=0;a<u.length;a+=1)o[a]=w($(c,u,a));const y=a=>g(o[a],1,1,()=>{o[a]=null});return{c(){t=p("div"),s=p("h1"),l=q(e),i=C();for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){t=v(a,"DIV",{class:!0});var n=k(t);s=v(n,"H1",{});var r=k(s);l=E(r,e),r.forEach(_),i=F(n);for(let f=0;f<o.length;f+=1)o[f].l(n);n.forEach(_),this.h()},h(){I(t,"class","col-card-holder svelte-1700q2t")},m(a,n){N(a,t,n),d(t,s),d(s,l),d(t,i);for(let r=0;r<o.length;r+=1)o[r].m(t,null);m=!0},p(a,[n]){if((!m||n&1)&&e!==(e=a[0].name+"")&&S(l,e),n&1){u=a[0].workouts;let r;for(r=0;r<u.length;r+=1){const f=$(a,u,r);o[r]?(o[r].p(f,n),h(o[r],1)):(o[r]=w(f),o[r].c(),h(o[r],1),o[r].m(t,null))}for(V(),r=u.length;r<o.length;r+=1)y(r);W()}},i(a){if(!m){for(let n=0;n<u.length;n+=1)h(o[n]);m=!0}},o(a){o=o.filter(Boolean);for(let n=0;n<o.length;n+=1)g(o[n]);m=!1},d(a){a&&_(t),z(o,a)}}}function M(c,t,s){let e=G;return(async()=>{let l=await j.get().catch(i=>console.error("Failed to load active program",i));if(!l){console.error("Active program not found",l);return}s(0,e=await x.get(l.programId))})(),[e]}class T extends P{constructor(t){super(),A(this,t,M,K,b,{})}}export{T as default};
