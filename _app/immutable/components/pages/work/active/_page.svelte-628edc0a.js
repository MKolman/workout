import{S as he,i as be,s as ge,w as te,x as R,e as V,y as J,z as q,b as y,L as Ce,W as Q,g as $,t as C,A as F,d as x,f as S,h as k,O as ne,P as Ie,X as Pe,R as oe,E as Z,T as ae,v as Ae,D as Be,k as B,a as N,l as M,m as j,c as O,n as D,I as Me,J as je,K as De,q as H,r as W,_ as A,aa as pe,Q as Ue,C as we,u as Ne}from"../../../../chunks/index-6d0a9015.js";import{p as Oe}from"../../../../chunks/stores-e8904866.js";import{c as le,f as Re,S as se}from"../../../../chunks/SmuiElement-dbb92510.js";import{d as Ve}from"../../../../chunks/dispatch-49762ebd.js";import{R as re}from"../../../../chunks/Ripple-03e9247e.js";import{g as qe}from"../../../../chunks/progress-170a61e1.js";import{S as Fe}from"../../../../chunks/workout-61d879eb.js";import{g as ie}from"../../../../chunks/navigation-7aa17d52.js";function ce(o){let e;return{c(){e=B("div"),this.h()},l(t){e=M(t,"DIV",{class:!0}),j(e).forEach(k),this.h()},h(){D(e,"class","mdc-button__touch")},m(t,l){y(t,e,l)},d(t){t&&k(e)}}}function He(o){let e,t,l,i;const _=o[28].default,f=Be(_,o,o[30],null);let n=o[6]&&ce();return{c(){e=B("div"),t=N(),f&&f.c(),n&&n.c(),l=V(),this.h()},l(a){e=M(a,"DIV",{class:!0}),j(e).forEach(k),t=O(a),f&&f.l(a),n&&n.l(a),l=V(),this.h()},h(){D(e,"class","mdc-button__ripple")},m(a,h){y(a,e,h),y(a,t,h),f&&f.m(a,h),n&&n.m(a,h),y(a,l,h),i=!0},p(a,h){f&&f.p&&(!i||h[0]&1073741824)&&Me(f,_,a,a[30],i?De(_,a[30],h,null):je(a[30]),null),a[6]?n||(n=ce(),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},i(a){i||(S(f,a),i=!0)},o(a){C(f,a),i=!1},d(a){a&&k(e),a&&k(t),f&&f.d(a),n&&n.d(a),a&&k(l)}}}function We(o){let e,t,l;const i=[{tag:o[10]},{use:[[re,{ripple:o[3],unbounded:!1,color:o[4],disabled:!!o[23].disabled,addClass:o[19],removeClass:o[20],addStyle:o[21]}],o[17],...o[0]]},{class:le({[o[1]]:!0,"mdc-button":!0,"mdc-button--raised":o[5]==="raised","mdc-button--unelevated":o[5]==="unelevated","mdc-button--outlined":o[5]==="outlined","smui-button--color-secondary":o[4]==="secondary","mdc-button--touch":o[6],"mdc-card__action":o[18]==="card:action","mdc-card__action--button":o[18]==="card:action","mdc-dialog__button":o[18]==="dialog:action","mdc-top-app-bar__navigation-icon":o[18]==="top-app-bar:navigation","mdc-top-app-bar__action-item":o[18]==="top-app-bar:action","mdc-snackbar__action":o[18]==="snackbar:actions","mdc-banner__secondary-action":o[18]==="banner"&&o[8],"mdc-banner__primary-action":o[18]==="banner"&&!o[8],"mdc-tooltip__action":o[18]==="tooltip:rich-actions",...o[12]})},{style:Object.entries(o[13]).map(ue).concat([o[2]]).join(" ")},o[16],o[15],o[14],{href:o[7]},o[23]];var _=o[9];function f(n){let a={$$slots:{default:[He]},$$scope:{ctx:n}};for(let h=0;h<i.length;h+=1)a=Z(a,i[h]);return{props:a}}return _&&(e=te(_,f(o)),o[29](e),e.$on("click",o[22])),{c(){e&&R(e.$$.fragment),t=V()},l(n){e&&J(e.$$.fragment,n),t=V()},m(n,a){e&&q(e,n,a),y(n,t,a),l=!0},p(n,a){const h=a[0]&12580351?Ce(i,[a[0]&1024&&{tag:n[10]},a[0]&12189721&&{use:[[re,{ripple:n[3],unbounded:!1,color:n[4],disabled:!!n[23].disabled,addClass:n[19],removeClass:n[20],addStyle:n[21]}],n[17],...n[0]]},a[0]&266610&&{class:le({[n[1]]:!0,"mdc-button":!0,"mdc-button--raised":n[5]==="raised","mdc-button--unelevated":n[5]==="unelevated","mdc-button--outlined":n[5]==="outlined","smui-button--color-secondary":n[4]==="secondary","mdc-button--touch":n[6],"mdc-card__action":n[18]==="card:action","mdc-card__action--button":n[18]==="card:action","mdc-dialog__button":n[18]==="dialog:action","mdc-top-app-bar__navigation-icon":n[18]==="top-app-bar:navigation","mdc-top-app-bar__action-item":n[18]==="top-app-bar:action","mdc-snackbar__action":n[18]==="snackbar:actions","mdc-banner__secondary-action":n[18]==="banner"&&n[8],"mdc-banner__primary-action":n[18]==="banner"&&!n[8],"mdc-tooltip__action":n[18]==="tooltip:rich-actions",...n[12]})},a[0]&8196&&{style:Object.entries(n[13]).map(ue).concat([n[2]]).join(" ")},a[0]&65536&&Q(n[16]),a[0]&32768&&Q(n[15]),a[0]&16384&&Q(n[14]),a[0]&128&&{href:n[7]},a[0]&8388608&&Q(n[23])]):{};if(a[0]&1073741888&&(h.$$scope={dirty:a,ctx:n}),_!==(_=n[9])){if(e){$();const d=e;C(d.$$.fragment,1,0,()=>{F(d,1)}),x()}_?(e=te(_,f(n)),n[29](e),e.$on("click",n[22]),R(e.$$.fragment),S(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else _&&e.$set(h)},i(n){l||(e&&S(e.$$.fragment,n),l=!0)},o(n){e&&C(e.$$.fragment,n),l=!1},d(n){o[29](null),n&&k(t),e&&F(e,n)}}}const ue=([o,e])=>`${o}: ${e};`;function ze(o,e,t){let l,i,_;const f=["use","class","style","ripple","color","variant","touch","href","action","defaultAction","secondary","component","tag","getElement"];let n=ne(e,f),{$$slots:a={},$$scope:h}=e;const d=Re(Ie());let{use:I=[]}=e,{class:s=""}=e,{style:m=""}=e,{ripple:c=!0}=e,{color:b="primary"}=e,{variant:u="text"}=e,{touch:g=!1}=e,{href:v=void 0}=e,{action:E="close"}=e,{defaultAction:p=!1}=e,{secondary:U=!1}=e,K,P={},w={},z=Pe("SMUI:button:context"),{component:X=se}=e,{tag:ee=X===se?v==null?"button":"a":void 0}=e,G=n.disabled;oe("SMUI:label:context","button"),oe("SMUI:icon:context","button");function ke(r){P[r]||t(12,P[r]=!0,P)}function ye(r){(!(r in P)||P[r])&&t(12,P[r]=!1,P)}function ve(r,L){w[r]!=L&&(L===""||L==null?(delete w[r],t(13,w)):t(13,w[r]=L,w))}function Ee(){z==="banner"&&Ve(Y(),U?"SMUIBannerButton:secondaryActionClick":"SMUIBannerButton:primaryActionClick")}function Y(){return K.getElement()}function Se(r){Ae[r?"unshift":"push"](()=>{K=r,t(11,K)})}return o.$$set=r=>{t(31,e=Z(Z({},e),ae(r))),t(23,n=ne(e,f)),"use"in r&&t(0,I=r.use),"class"in r&&t(1,s=r.class),"style"in r&&t(2,m=r.style),"ripple"in r&&t(3,c=r.ripple),"color"in r&&t(4,b=r.color),"variant"in r&&t(5,u=r.variant),"touch"in r&&t(6,g=r.touch),"href"in r&&t(7,v=r.href),"action"in r&&t(24,E=r.action),"defaultAction"in r&&t(25,p=r.defaultAction),"secondary"in r&&t(8,U=r.secondary),"component"in r&&t(9,X=r.component),"tag"in r&&t(10,ee=r.tag),"$$scope"in r&&t(30,h=r.$$scope)},o.$$.update=()=>{if(t(16,l=z==="dialog:action"&&E!=null?{"data-mdc-dialog-action":E}:{action:e.action}),t(15,i=z==="dialog:action"&&p?{"data-mdc-dialog-button-default":""}:{default:e.default}),t(14,_=z==="banner"?{}:{secondary:e.secondary}),G!==n.disabled){const r=Y();"blur"in r&&r.blur(),t(27,G=n.disabled)}},e=ae(e),[I,s,m,c,b,u,g,v,U,X,ee,K,P,w,_,i,l,d,z,ke,ye,ve,Ee,n,E,p,Y,G,a,Se,h]}class T extends he{constructor(e){super(),be(this,e,ze,We,ge,{use:0,class:1,style:2,ripple:3,color:4,variant:5,touch:6,href:7,action:24,defaultAction:25,secondary:8,component:9,tag:10,getElement:26},null,[-1,-1])}get getElement(){return this.$$.ctx[26]}}function fe(o,e,t){const l=o.slice();return l[9]=e[t],l[11]=t,l}function de(o,e,t){const l=o.slice();l[12]=e[t],l[15]=t;const i=l[0][l[11]][l[15]];return l[13]=i,l}function Je(o){let e;return{c(){e=H("Finish workout")},l(t){e=W(t,"Finish workout")},m(t,l){y(t,e,l)},d(t){t&&k(e)}}}function Ke(o){let e=o[2](o[9].exercise)+"",t;return{c(){t=H(e)},l(l){t=W(l,e)},m(l,i){y(l,t,i)},p:we,d(l){l&&k(t)}}}function Le(o){let e=(o[13]==0?o[12]:o[13])+"",t;return{c(){t=H(e)},l(l){t=W(l,e)},m(l,i){y(l,t,i)},p(l,i){i&1&&e!==(e=(l[13]==0?l[12]:l[13])+"")&&Ne(t,e)},d(l){l&&k(t)}}}function me(o){let e,t;function l(){return o[3](o[11],o[15],o[13],o[12])}return e=new T({props:{color:o[13]==0?"secondary":"primary",variant:"unelevated",$$slots:{default:[Le]},$$scope:{ctx:o}}}),e.$on("click",l),{c(){R(e.$$.fragment)},l(i){J(e.$$.fragment,i)},m(i,_){q(e,i,_),t=!0},p(i,_){o=i;const f={};_&1&&(f.color=o[13]==0?"secondary":"primary"),_&65537&&(f.$$scope={dirty:_,ctx:o}),e.$set(f)},i(i){t||(S(e.$$.fragment,i),t=!0)},o(i){C(e.$$.fragment,i),t=!1},d(i){F(e,i)}}}function Qe(o){let e;return{c(){e=H("+")},l(t){e=W(t,"+")},m(t,l){y(t,e,l)},d(t){t&&k(e)}}}function _e(o){let e,t,l=o[9].exercise.name+"",i,_,f,n,a,h,d,I,s;f=new T({props:{color:"secondary",variant:"text",$$slots:{default:[Ke]},$$scope:{ctx:o}}});let m=o[9].sets,c=[];for(let u=0;u<m.length;u+=1)c[u]=me(de(o,m,u));const b=u=>C(c[u],1,1,()=>{c[u]=null});return d=new T({props:{color:"secondary",variant:"unelevated",$$slots:{default:[Qe]},$$scope:{ctx:o}}}),{c(){e=B("h2"),t=B("span"),i=H(l),_=N(),R(f.$$.fragment),n=N(),a=B("div");for(let u=0;u<c.length;u+=1)c[u].c();h=N(),R(d.$$.fragment),I=N(),this.h()},l(u){e=M(u,"H2",{class:!0});var g=j(e);t=M(g,"SPAN",{class:!0});var v=j(t);i=W(v,l),v.forEach(k),_=O(g),J(f.$$.fragment,g),g.forEach(k),n=O(u),a=M(u,"DIV",{class:!0});var E=j(a);for(let p=0;p<c.length;p+=1)c[p].l(E);h=O(E),J(d.$$.fragment,E),I=O(E),E.forEach(k),this.h()},h(){D(t,"class","long svelte-b2altb"),D(e,"class","svelte-b2altb"),D(a,"class","row svelte-b2altb")},m(u,g){y(u,e,g),A(e,t),A(t,i),A(e,_),q(f,e,null),y(u,n,g),y(u,a,g);for(let v=0;v<c.length;v+=1)c[v].m(a,null);A(a,h),q(d,a,null),A(a,I),s=!0},p(u,g){const v={};if(g&65536&&(v.$$scope={dirty:g,ctx:u}),f.$set(v),g&3){m=u[9].sets;let p;for(p=0;p<m.length;p+=1){const U=de(u,m,p);c[p]?(c[p].p(U,g),S(c[p],1)):(c[p]=me(U),c[p].c(),S(c[p],1),c[p].m(a,h))}for($(),p=m.length;p<c.length;p+=1)b(p);x()}const E={};g&65536&&(E.$$scope={dirty:g,ctx:u}),d.$set(E)},i(u){if(!s){S(f.$$.fragment,u);for(let g=0;g<m.length;g+=1)S(c[g]);S(d.$$.fragment,u),s=!0}},o(u){C(f.$$.fragment,u),c=c.filter(Boolean);for(let g=0;g<c.length;g+=1)C(c[g]);C(d.$$.fragment,u),s=!1},d(u){u&&k(e),F(f),u&&k(n),u&&k(a),pe(c,u),F(d)}}}function Te(o){let e,t,l=o[1].name+"",i,_,f,n,a;_=new T({props:{$$slots:{default:[Je]},$$scope:{ctx:o}}});let h=o[1].work,d=[];for(let s=0;s<h.length;s+=1)d[s]=_e(fe(o,h,s));const I=s=>C(d[s],1,1,()=>{d[s]=null});return{c(){e=B("h1"),t=B("span"),i=H(l),R(_.$$.fragment),f=N();for(let s=0;s<d.length;s+=1)d[s].c();n=V(),this.h()},l(s){e=M(s,"H1",{class:!0});var m=j(e);t=M(m,"SPAN",{class:!0});var c=j(t);i=W(c,l),c.forEach(k),J(_.$$.fragment,m),m.forEach(k),f=O(s);for(let b=0;b<d.length;b+=1)d[b].l(s);n=V(),this.h()},h(){D(t,"class","long svelte-b2altb"),D(e,"class","svelte-b2altb")},m(s,m){y(s,e,m),A(e,t),A(t,i),q(_,e,null),y(s,f,m);for(let c=0;c<d.length;c+=1)d[c].m(s,m);y(s,n,m),a=!0},p(s,[m]){const c={};if(m&65536&&(c.$$scope={dirty:m,ctx:s}),_.$set(c),m&7){h=s[1].work;let b;for(b=0;b<h.length;b+=1){const u=fe(s,h,b);d[b]?(d[b].p(u,m),S(d[b],1)):(d[b]=_e(u),d[b].c(),S(d[b],1),d[b].m(n.parentNode,n))}for($(),b=h.length;b<d.length;b+=1)I(b);x()}},i(s){if(!a){S(_.$$.fragment,s);for(let m=0;m<h.length;m+=1)S(d[m]);a=!0}},o(s){C(_.$$.fragment,s),d=d.filter(Boolean);for(let m=0;m<d.length;m+=1)C(d[m]);a=!1},d(s){s&&k(e),F(_),s&&k(f),pe(d,s),s&&k(n)}}}function Xe(o,e,t){let l;Ue(o,Oe,s=>t(4,l=s));const i={name:"Error",work:[]},_={day:0,difficulty:new Map},f=()=>{const s=l.url.searchParams.get("program"),m=l.url.searchParams.get("workout");if(!m)return console.error("No workout specified"),ie("/work"),{workout:i,progress:_};const c=Fe.get(m);if(!c)return console.error("Workout not found"),ie("/work"),{workout:i,progress:_};const b=qe(s,c);return{workout:c,progress:b}},{workout:n,progress:a}=f(),h=n==null?void 0:n.work.map(s=>s.sets.map(m=>0));return[h,n,s=>s.difficulty(a==null?void 0:a.difficulty.get(s.id)),(s,m,c,b)=>t(0,h[s][m]=(c+b)%(b+1),h)]}class ot extends he{constructor(e){super(),be(this,e,Xe,Te,ge,{})}}export{ot as default};
